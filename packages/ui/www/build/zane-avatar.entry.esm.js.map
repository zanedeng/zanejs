{"version":3,"file":"zane-avatar.entry.esm.js","sources":["src/components/avatar/avatar.scss?tag=zane-avatar&encapsulation=shadow","src/components/avatar/avatar.tsx"],"sourcesContent":["@use '../../global/styles/commons';\n\n:host {\n  display: inline-block;\n  pointer-events: none;\n}\n\n.avatar-container {\n  display: flex;\n  gap: commons.v(--spacing-02);\n  align-items: center;\n  line-height: 0;\n}\n\n.avatar {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  overflow: hidden;\n  color: v(--field-01);\n  border-radius: 50%;\n\n  @include commons.font-style(text-md);\n\n  .image {\n    width: 100%;\n    height: 100%;\n  }\n}\n\n:host(.square) {\n  .avatar {\n    border-radius: 10px;\n  }\n}\n\n.avatar.avatar-initials {\n  background: var(--avatar-bg-color, commons.v(--color-brand-primary));\n}\n\n.avatar.avatar-image {\n  background: commons.v(--color-brand-primary-30);\n}\n\n:host(.inverted) {\n  .avatar {\n    color: commons.v(--color-brand-primary);\n  }\n\n  .avatar.avatar-initials {\n    background: var(--avatar-bg-color, commons.v(--color-white));\n  }\n}\n","import { Component, Element, h, Host, Prop } from '@stencil/core';\n\n/**\n * 头像组件\n *\n * @Component 装饰器定义组件元数据\n * @shadow 启用Shadow DOM封装\n * @styleUrl 指定组件样式文件\n * @tag 定义组件在HTML中的标签名\n */\n@Component({\n  shadow: true,\n  styleUrl: 'avatar.scss',\n  tag: 'zane-avatar',\n})\nexport class Avatar {\n  /**\n   * 获取组件宿主元素引用\n   * @type {HTMLElement}\n   */\n  @Element() elm!: HTMLElement;\n\n  /**\n   * 用户姓名（用于生成首字母头像）\n   * @type {string}\n   * @default ''\n   */\n  @Prop() name: string = '';\n\n  /**\n   * 头像尺寸（支持CSS单位）\n   * @type {string}\n   * @default '2rem'\n   */\n  @Prop() size: string = '2rem';\n\n  /**\n   * 头像图片URL（优先级高于name）\n   * @type {string}\n   * @default ''\n   */\n  @Prop() src: string = '';\n\n  /**\n   * 渲染组件\n   * @returns {JSX.Element} 组件JSX结构\n   */\n  render() {\n    const cssCls = ['avatar'];\n    if (this.src) {\n      cssCls.push('avatar-image');\n    } else {\n      cssCls.push('avatar-initials');\n    }\n    return (\n      <Host title={this.name}>\n        <div class=\"avatar-container\">\n          <div\n            class={cssCls.join(' ')}\n            style={{\n              fontSize: this.getFontSize(),\n              height: this.size,\n              width: this.size,\n            }}\n          >\n            {(() => {\n              return this.src ? (\n                <img alt={this.name} class=\"image\" src={this.src} />\n              ) : (\n                <div class=\"initials\">{this.getInitials()}</div>\n              );\n            })()}\n          </div>\n        </div>\n      </Host>\n    );\n  }\n\n  /**\n   * 计算字体大小（基于头像尺寸）\n   * @private\n   * @returns {string} 计算后的字体大小（带单位）\n   */\n  private getFontSize() {\n    const size = this.size;\n    const fontSize = this.size.match(/^\\d+(\\.\\d{1,2})?/)[0];\n    return (+fontSize * 4) / 10 + size.replace(/^\\d+(\\.\\d{1,2})?/, '');\n  }\n\n  /**\n   * 生成姓名首字母\n   * @private\n   * @returns {string} 大写首字母组合（如\"JD\"）\n   */\n  private getInitials() {\n    const name = this.name.split(' ');\n    const firstName = name[0] ? name[0].charAt(0).toUpperCase() : '';\n    const lastName = name[1] ? name[1].charAt(0).toUpperCase() : '';\n    return `${firstName}${lastName}`;\n  }\n}\n"],"names":[],"mappings":";;AAAA,MAAM,SAAS,GAAG,6sHAA6sH;;MCeltH,MAAM,GAAA,MAAA;AALnB,IAAA,WAAA,CAAA,OAAA,EAAA;;AAYE;;;;AAIG;AACK,QAAA,IAAI,CAAA,IAAA,GAAW,EAAE;AAEzB;;;;AAIG;AACK,QAAA,IAAI,CAAA,IAAA,GAAW,MAAM;AAE7B;;;;AAIG;AACK,QAAA,IAAG,CAAA,GAAA,GAAW,EAAE;AA2DzB;AAzDC;;;AAGG;IACH,MAAM,GAAA;AACJ,QAAA,MAAM,MAAM,GAAG,CAAC,QAAQ,CAAC;AACzB,QAAA,IAAI,IAAI,CAAC,GAAG,EAAE;AACZ,YAAA,MAAM,CAAC,IAAI,CAAC,cAAc,CAAC;;aACtB;AACL,YAAA,MAAM,CAAC,IAAI,CAAC,iBAAiB,CAAC;;QAEhC,QACE,EAAC,IAAI,EAAA,EAAA,GAAA,EAAA,0CAAA,EAAC,KAAK,EAAE,IAAI,CAAC,IAAI,EAAA,EACpB,CAAK,CAAA,KAAA,EAAA,EAAA,GAAA,EAAA,0CAAA,EAAA,KAAK,EAAC,kBAAkB,EAAA,EAC3B,CACE,CAAA,KAAA,EAAA,EAAA,GAAA,EAAA,0CAAA,EAAA,KAAK,EAAE,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,EACvB,KAAK,EAAE;AACL,gBAAA,QAAQ,EAAE,IAAI,CAAC,WAAW,EAAE;gBAC5B,MAAM,EAAE,IAAI,CAAC,IAAI;gBACjB,KAAK,EAAE,IAAI,CAAC,IAAI;aACjB,EAEA,EAAA,CAAC,MAAK;YACL,OAAO,IAAI,CAAC,GAAG,IACb,CAAK,CAAA,KAAA,EAAA,EAAA,GAAG,EAAE,IAAI,CAAC,IAAI,EAAE,KAAK,EAAC,OAAO,EAAC,GAAG,EAAE,IAAI,CAAC,GAAG,EAAI,CAAA,KAEpD,CAAK,CAAA,KAAA,EAAA,EAAA,KAAK,EAAC,UAAU,IAAE,IAAI,CAAC,WAAW,EAAE,CAAO,CACjD;AACH,SAAC,GAAG,CACA,CACF,CACD;;AAIX;;;;AAIG;IACK,WAAW,GAAA;AACjB,QAAA,MAAM,IAAI,GAAG,IAAI,CAAC,IAAI;AACtB,QAAA,MAAM,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,kBAAkB,CAAC,CAAC,CAAC,CAAC;AACvD,QAAA,OAAO,CAAC,CAAC,QAAQ,GAAG,CAAC,IAAI,EAAE,GAAG,IAAI,CAAC,OAAO,CAAC,kBAAkB,EAAE,EAAE,CAAC;;AAGpE;;;;AAIG;IACK,WAAW,GAAA;QACjB,MAAM,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC;QACjC,MAAM,SAAS,GAAG,IAAI,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,WAAW,EAAE,GAAG,EAAE;QAChE,MAAM,QAAQ,GAAG,IAAI,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,WAAW,EAAE,GAAG,EAAE;AAC/D,QAAA,OAAO,CAAG,EAAA,SAAS,CAAG,EAAA,QAAQ,EAAE;;;;;;;;"}