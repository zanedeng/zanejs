{"version":3,"names":["tabCss","Tab","constructor","hostRef","this","disabled","disabledReason","gid","getComponentIndex","hasFocus","isActive","selected","showLoader","slotHasContent","type","_Tab_clickHandler","set","href","zaneTabClick","emit","element","host","target","value","blurHandler","focusHandler","mouseDownHandler","componentWillLoad","hasAttribute","tabindex","getAttribute","undefined","removeAttribute","hasChildNodes","render","NativeElementTag","__classPrivateFieldGet","_Tab_instances","_Tab_getNativeElementTagName","call","h","Host","key","active","class","tab","onBlur","onClick","onFocus","onKeyDown","_Tab_keyDownHandler","onMouseDown","ref","elm","nativeElement","size","icon","name","renderDisabledReason","setFocus","focus","triggerClick","click","windowKeyUp","evt","windowMouseUp","id","role","preventDefault","window","open"],"sources":["src/components/tabs/tab/tab.scss?tag=zane-tab&encapsulation=shadow","src/components/tabs/tab/tab.tsx"],"sourcesContent":["@use '../../../global/styles/commons';\n\n$border-width: 0.125;\n\n:host {\n  display: inline-block;\n}\n\n.tab {\n  position: relative;\n  display: flex;\n  align-items: center;\n  height: 2.5rem;\n\n  .native-button {\n    z-index: commons.v(--z-index-button);\n    height: 100%;\n    padding: 0;\n    color: commons.v(--text-secondary);\n    text-decoration: none;\n    cursor: pointer;\n    outline: none;\n    background: transparent;\n    border: none;\n\n    .slot-container {\n      display: flex;\n    }\n\n    .tab-content {\n      display: flex;\n      flex-direction: row;\n      gap: commons.v(--spacing-02);\n      align-items: center;\n      height: 100%;\n      padding: 0 1rem;\n\n      @include commons.font-style(body-compact-01);\n    }\n  }\n\n  .tab-background {\n    position: absolute;\n    display: block;\n    width: 100%;\n    height: 100%;\n    pointer-events: none;\n  }\n\n  &:hover {\n    .native-button {\n      color: commons.v(--text-primary);\n      border-bottom-color: var(--border-strong);\n    }\n  }\n\n  &.disabled {\n    .native-button {\n      color: commons.v(--text-disabled);\n      cursor: not-allowed;\n    }\n  }\n\n  &:not(.has-content) .slot-container {\n    display: none;\n  }\n\n  &.selected {\n    .native-button {\n      color: commons.v(--text-primary);\n    }\n\n    .tab-content {\n      @include commons.font-style(heading-compact-01);\n    }\n  }\n}\n\n/**\n * Tab variant definitions - bottom line\n */\n.tab.type-default {\n  .native-button {\n    border-bottom: 2px solid var(--border-subtle);\n\n    .tab-content {\n      border: 2px solid transparent;\n      border-bottom: 0;\n    }\n  }\n\n  .tab-background {\n    background: transparent;\n  }\n\n  &.selected {\n    .native-button {\n      border-bottom-color: commons.v(--border-interactive);\n    }\n  }\n\n  &.has-focus:not(.active) {\n    .native-button {\n      border-bottom-color: commons.v(--border-interactive);\n    }\n\n    .tab-content {\n      border-color: commons.v(--border-interactive);\n    }\n  }\n\n  &.disabled {\n    .native-button {\n      border-bottom-color: commons.v(--border-disabled) !important;\n    }\n\n    &.has-focus:not(.active) .tab-content {\n      border-color: transparent !important;\n    }\n  }\n}\n\n.tab.type-contained {\n  .native-button {\n    border-top: 2px solid transparent;\n    border-right: 1px solid var(--border-strong);\n\n    .tab-content {\n      border: 2px solid transparent;\n      border-top: 0;\n    }\n  }\n\n  .tab-background {\n    background: var(--layer-accent);\n  }\n\n  &.selected {\n    .native-button {\n      border-top-color: var(--border-interactive);\n      border-right-color: transparent;\n    }\n\n    .tab-background {\n      background: var(--layer);\n    }\n  }\n\n  &.has-focus:not(.active) {\n    .native-button {\n      border-top-color: var(--border-interactive);\n    }\n\n    .tab-content {\n      border-color: var(--border-interactive);\n    }\n  }\n\n  &.disabled {\n    .tab-background {\n      background: var(--button-disabled) !important;\n    }\n  }\n}\n\n.tab.type-contained-bottom {\n  .native-button {\n    border-right: 1px solid var(--border-strong);\n    border-bottom: 2px solid transparent;\n\n    .tab-content {\n      border: 2px solid transparent;\n      border-bottom: 0;\n    }\n  }\n\n  .tab-background {\n    background: var(--layer-accent);\n  }\n\n  &.selected {\n    .native-button {\n      border-right-color: transparent;\n      border-bottom-color: var(--border-interactive);\n    }\n\n    .tab-background {\n      background: var(--layer);\n    }\n  }\n\n  &.has-focus:not(.active) {\n    .native-button {\n      border-bottom-color: var(--border-interactive);\n    }\n\n    .tab-content {\n      border-color: var(--border-interactive);\n    }\n  }\n\n  &.disabled {\n    .tab-background {\n      background: var(--button-disabled) !important;\n    }\n  }\n}\n\n:host(.last-tab),\n:host(.previous-tab) {\n  /**\n    * Color Variants\n    */\n  @each $color in [primary, secondary, success, error, info, warning,\n    brand-primary, brand-secondary, custom-01, custom-02, custom-03]\n  {\n    :host(.color-#{$color}) .tab {\n      --tab-color: #{commons.v(--color-#{$color})};\n    }\n  }\n\n  .tab.type-contained,\n  .tab.type-contained-bottom {\n    .native-button {\n      border-right: 0;\n    }\n  }\n}\n","import {\n  Component,\n  ComponentInterface,\n  Element,\n  Event,\n  EventEmitter,\n  h,\n  Host,\n  Listen,\n  Method,\n  Prop,\n  State,\n} from '@stencil/core';\n\nimport { getComponentIndex } from '../../../utils';\n\n/**\n * 单个标签页元素，支持多种交互状态和类型\n *\n */\n@Component({\n  shadow: true,\n  styleUrl: 'tab.scss',\n  tag: 'zane-tab',\n})\nexport class Tab implements ComponentInterface {\n  /**\n   * 是否禁用标签\n   *\n   * @type {boolean}\n   * @prop disabled\n   * @default false\n   * @reflect\n   */\n\n  @Prop({ reflect: true }) disabled: boolean = false;\n\n  /**\n   * 禁用状态提示信息（支持无障碍访问）\n   *\n   * @type {string}\n   * @prop disabledReason\n   * @default ''\n   */\n  @Prop() disabledReason: string = '';\n\n  // 组件唯一标识符\n  gid: string = getComponentIndex();\n\n  /**\n   * 焦点状态跟踪\n   *\n   * @type {boolean}\n   * @state hasFocus\n   */\n  @State() hasFocus = false;\n\n  // 宿主元素引用\n  @Element() host!: HTMLElement;\n\n  /**\n   * 链接地址（存在时渲染为<a>标签）\n   *\n   * @type {string}\n   * @prop href\n   */\n  @Prop({ reflect: true }) href: string;\n\n  /**\n   * 图标名称（内置图标库）\n   *\n   * @type {string}\n   * @prop icon\n   */\n  @Prop() icon: string;\n\n  /**\n   * 激活状态（用于点击效果）\n   *\n   * @type {boolean}\n   * @state isActive\n   */\n  @State() isActive = false;\n\n  /**\n   * 标签文本（备用显示内容）\n   *\n   * @type {string}\n   * @prop label\n   */\n  @Prop() label: string;\n\n  /**\n   * 选中状态（与父级Tabs组件联动）\n   *\n   * @type {boolean}\n   * @prop selected\n   * @default false\n   * @reflect\n   */\n  @Prop({ reflect: true }) selected: boolean = false;\n\n  /**\n   * 显示加载指示器\n   *\n   * @type {boolean}\n   * @prop showLoader\n   * @default false\n   */\n  @Prop() showLoader: boolean = false;\n\n  /**\n   * 插槽内容存在状态\n   *\n   * @type {boolean}\n   * @state slotHasContent\n   */\n  @State() slotHasContent = false;\n\n  /**\n   * 关联面板标识\n   *\n   * @type {string}\n   * @prop target\n   */\n  @Prop() target: string;\n\n  /**\n   * 标签类型（需与父级Tabs组件同步）\n   *\n   * @type {'contained' | 'contained-bottom' | 'default'}\n   * @prop type\n   * @default 'default'\n   * @reflect\n   */\n  @Prop({ reflect: true }) type: 'contained' | 'contained-bottom' | 'default' =\n    'default';\n\n  /**\n   * 标签值（用于表单场景）\n   *\n   * @type {string}\n   * @prop value\n   */\n  @Prop() value: string;\n\n  /**\n   * 标签点击事件（冒泡给父级Tabs）\n   *\n   * @event zane-tab--click\n   * @type {EventEmitter<{element: HTMLElement; target: string; value: string}>}\n   */\n  @Event({ eventName: 'zane-tab--click' }) zaneTabClick: EventEmitter;\n\n  /** 原生元素引用（动态切换button/a） */\n  private nativeElement?: HTMLButtonElement;\n\n  /** 原始tabindex缓存  */\n  private tabindex?: number | string;\n\n  /**\n   * 组件加载前初始化\n   */\n  componentWillLoad() {\n    if (this.host.hasAttribute('tabindex')) {\n      const tabindex = this.host.getAttribute('tabindex');\n      this.tabindex = tabindex === null ? undefined : tabindex;\n      this.host.removeAttribute('tabindex');\n    }\n    this.slotHasContent = this.host.hasChildNodes();\n  }\n\n  render() {\n    const NativeElementTag = this.#getNativeElementTagName();\n\n    return (\n      <Host active={this.isActive} has-focus={this.hasFocus}>\n        <div\n          class={{\n            [`type-${this.type}`]: true,\n            active: this.isActive,\n            disabled: this.disabled,\n            'has-content': this.slotHasContent,\n            'has-focus': this.hasFocus,\n            selected: this.selected,\n            'show-loader': this.showLoader,\n            tab: true,\n          }}\n        >\n          <div class=\"tab-background\" />\n          <NativeElementTag\n            aria-describedby={\n              this.disabled && this.disabledReason\n                ? `disabled-reason-${this.gid}`\n                : null\n            }\n            aria-disabled={`${this.disabled || this.showLoader}`}\n            class=\"native-button\"\n            disabled={this.disabled}\n            href={this.href}\n            onBlur={this.blurHandler}\n            onClick={this.#clickHandler}\n            onFocus={this.focusHandler}\n            onKeyDown={this.#keyDownHandler}\n            onMouseDown={this.mouseDownHandler}\n            ref={(elm) => (this.nativeElement = elm)}\n            tabindex={this.tabindex}\n            target={'_blank'}\n          >\n            <div class=\"tab-content\">\n              {this.showLoader && (\n                <zane-spinner class=\"spinner inherit\" size=\"1rem\" />\n              )}\n\n              {!this.showLoader && this.icon && (\n                <zane-icon class=\"icon inherit\" name={this.icon} size=\"1rem\" />\n              )}\n\n              {!this.showLoader && (\n                <div class=\"slot-container\">\n                  <slot />\n                </div>\n              )}\n\n              {!this.showLoader && this.href && (\n                <zane-icon class=\"icon inherit\" name={'launch'} size=\"1rem\" />\n              )}\n            </div>\n          </NativeElementTag>\n          {this.renderDisabledReason()}\n        </div>\n      </Host>\n    );\n  }\n\n  /**\n   * 设置焦点（公共方法）\n   *\n   * @method setFocus\n   */\n  @Method()\n  async setFocus() {\n    if (this.nativeElement) {\n      this.nativeElement.focus();\n    }\n  }\n\n  /**\n   * 触发点击（公共方法）\n   *\n   * @method triggerClick\n   */\n  @Method()\n  async triggerClick() {\n    if (this.nativeElement) {\n      this.nativeElement.click();\n    }\n  }\n\n  /**\n   * 全局空格键释放监听（用于取消激活状态）\n   * @listens window:keyup\n   * @param {KeyboardEvent} evt - 键盘事件对象\n   */\n  @Listen('keyup', { target: 'window' })\n  windowKeyUp(evt) {\n    if (this.isActive && evt.key === ' ') this.isActive = false;\n  }\n\n  /**\n   * 全局鼠标释放监听（用于取消激活状态）\n   * @listens window:mouseup\n   */\n  @Listen('mouseup', { target: 'window' })\n  windowMouseUp() {\n    if (this.isActive) this.isActive = false;\n  }\n\n  /**\n   * 点击事件核心处理器（私有方法）\n   * 触发条件：非禁用状态、非加载中、非外链场景\n   * @emits zane-tab--click\n   * @private\n   */\n  #clickHandler = () => {\n    if (!this.disabled && !this.showLoader && !this.href) {\n      this.zaneTabClick.emit({\n        element: this.host,\n        target: this.target,\n        value: this.value,\n      });\n    }\n  };\n\n  /**\n   * 动态获取原生标签类型（私有方法）\n   * @returns {'a' | 'button'} 根据href存在性决定渲染元素\n   * @private\n   */\n  #getNativeElementTagName() {\n    return this.href ? 'a' : 'button';\n  }\n\n  /**\n   * 键盘交互处理器（私有方法）\n   * @param {KeyboardEvent} evt - 键盘事件对象\n   * @private\n   */\n  #keyDownHandler(evt: KeyboardEvent) {\n    if (!this.disabled && !this.showLoader) {\n      if (!this.href && evt.key === 'Enter') {\n        evt.preventDefault();\n        this.isActive = true;\n        this.#clickHandler();\n      } else if (this.href && (evt.key === 'Enter' || evt.key === ' ')) {\n        evt.preventDefault();\n        this.isActive = true;\n        this.#clickHandler();\n        window.open(this.href, '_blank');\n      }\n    }\n  }\n\n  private blurHandler = () => {\n    this.hasFocus = false;\n  };\n\n  private focusHandler = () => {\n    this.hasFocus = true;\n  };\n\n  private mouseDownHandler = () => {\n    this.isActive = true;\n  };\n\n  /**\n   * 渲染无障碍提示信息\n   * @returns {JSX.Element | null} 隐藏式提示元素\n   * @private\n   */\n  private renderDisabledReason() {\n    if (this.disabled && this.disabledReason)\n      return (\n        <div class=\"sr-only\" id={`disabled-reason-${this.gid}`} role=\"tooltip\">\n          {this.disabledReason}\n        </div>\n      );\n  }\n}\n"],"mappings":"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","ignoreList":[]}