{"version":3,"file":"zane-sidenav-menu.entry.esm.js","sources":["src/components/application/sidenav/sidenav-menu/sidenav-menu.scss?tag=zane-sidenav-menu&encapsulation=shadow","src/components/application/sidenav/sidenav-menu/sidenav-menu.tsx"],"sourcesContent":["@use \"../../../../global/styles/commons\";\n\n:host {\n  display: inline-block;\n  --list-border-radius: var(--border-radius);\n  --zane-menu-max-height: inherit;\n}\n\n.menu {\n  background-color: var(--field-02);\n  padding: var(--spacing-02) 0;\n  border: 1px solid commons.v(--color-neutral-200);\n  box-sizing: border-box;\n  border-radius: var(--list-border-radius);\n  box-shadow: var(--shadow-sm);\n}\n","import {\n  Component,\n  ComponentInterface,\n  Element,\n  h,\n  Listen,\n  Method,\n  Prop,\n  State,\n  Watch,\n} from '@stencil/core';\n\n@Component({\n  shadow: true,\n  styleUrl: 'sidenav-menu.scss',\n  tag: 'zane-sidenav-menu',\n})\nexport class SidenavMenu implements ComponentInterface {\n  @Element() elm!: HTMLElement;\n\n  @Prop({ mutable: true }) empty: boolean = false;\n\n  @Prop({ mutable: true }) emptyState: any = `{\n    \"headline\": \"No items\",\n    \"description\": \"There are no items to display\"\n  }`;\n\n  @State()\n  internalEmptyState: { description: string; title: string };\n\n  @Prop() showLoader: boolean = false;\n\n  @Prop({ mutable: true }) value?: number | string;\n\n  componentWillLoad() {\n    this.parseEmptyState();\n  }\n\n  @Listen('keydown', { target: 'window' })\n  handleKeyDown(evt: KeyboardEvent) {\n    const path = evt.composedPath();\n    let menuItem = null;\n    for (const elm of path) {\n      if ((elm as any).tagName === 'ZANE-MENU-ITEM') {\n        menuItem = elm;\n      }\n      if (elm !== this.elm) continue;\n      if (evt.key === 'ArrowDown') {\n        evt.preventDefault();\n        this.focusNextItem(menuItem);\n      } else if (evt.key === 'ArrowUp') {\n        evt.preventDefault();\n        this.focusPreviousItem(menuItem);\n      }\n    }\n  }\n\n  @Watch('emptyState')\n  parseEmptyState() {\n    this.internalEmptyState = this.emptyState\n      ? JSON.parse(this.emptyState)\n      : this.emptyState;\n  }\n\n  render() {\n    return (\n      <div class=\"menu\">\n        <slot />\n        {this.renderEmptyState()}\n      </div>\n    );\n  }\n\n  /**\n   * Sets focus on first menu item. Use this method instead of the global\n   * `element.focus()`.\n   */\n  @Method()\n  async setFocus() {\n    const firstMenuItem = this.getFirstItem();\n    firstMenuItem?.setFocus();\n  }\n\n  private focusNextItem(currentItem) {\n    let nextItem: any = currentItem.nextElementSibling;\n    do {\n      if (\n        nextItem &&\n        nextItem.tagName === 'ZANE-MENU-ITEM' &&\n        !nextItem.disabled\n      ) {\n        nextItem.setFocus();\n        return;\n      }\n      nextItem = nextItem\n        ? nextItem.nextElementSibling\n        : this.elm.querySelector('zane-menu-item');\n    } while (nextItem !== currentItem);\n  }\n\n  private focusPreviousItem(currentItem) {\n    let previousItem: any = currentItem.previousElementSibling;\n    do {\n      if (\n        previousItem &&\n        previousItem.tagName === 'ZANE-MENU-ITEM' &&\n        !previousItem.disabled\n      ) {\n        previousItem.setFocus();\n        return;\n      }\n      previousItem = previousItem\n        ? previousItem.previousElementSibling\n        : this.elm.querySelector('zane-menu-item:last-child');\n    } while (previousItem !== currentItem);\n  }\n\n  private getFirstItem() {\n    return this.elm.querySelector('zane-menu-item');\n  }\n\n  private renderEmptyState() {\n    if (this.empty)\n      return (\n        <zane-empty-state class=\"empty-menu\">\n          <div slot=\"title\">{this.internalEmptyState.title}</div>\n          <div slot=\"description\">{this.internalEmptyState.description}</div>\n        </zane-empty-state>\n      );\n  }\n}\n"],"names":[],"mappings":"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"}