{"version":3,"names":["currentTimeCss","CurrentTime","constructor","hostRef","this","currentTime","Date","now","connectedCallback","timer","window","setInterval","disconnectedCallback","clearInterval","render","time","toLocaleTimeString","timeZone","timezone","h","Host","key","class"],"sources":["src/components/current-time/current-time.scss?tag=zane-current-time&encapsulation=shadow","src/components/current-time/current-time.tsx"],"sourcesContent":["@use '../../global/styles/commons';\n\n:host {\n  display: inline-block;\n}\n","import {\n  Component,\n  ComponentInterface,\n  h,\n  Host,\n  Prop,\n  State,\n} from '@stencil/core';\n\n/**\n * 当前时间显示组件\n * @Component 装饰器定义组件元数据\n * @shadow 启用Shadow DOM封装\n * @styleUrl 组件样式表路径\n * @tag 组件自定义标签名称\n */\n@Component({\n  shadow: true,\n  styleUrl: 'current-time.scss',\n  tag: 'zane-current-time',\n})\nexport class CurrentTime implements ComponentInterface {\n  /**\n   * 当前时间戳\n   * 使用Date.now() 获取的毫秒级时间戳\n   * @State 装饰器表示这是组件内部状态，变化会触发重新渲染\n   * 默认值为组件初始化时的时间戳\n   */\n  @State() currentTime: number = Date.now();\n\n  /**\n   * 定时器ID\n   * 用于存储setInterval返回的计时器引用\n   * 在组件卸载时需要清除\n   */\n  timer: number;\n\n  /**\n   * 时区设置\n   * 遵循IANA时区数据库的时区字符串格式\n   * 例如: \"Asia/Shanghai\", \"America/New_York\"\n   * @Prop 装饰器表示这是组件的公开属性\n   * 未指定时使用运行环境的默认时区\n   */\n  @Prop() timezone: string;\n\n  /**\n   * 组件连接到DOM时的生命周期回调\n   * 在此处启动定时器，每秒更新一次时间\n   */\n  connectedCallback() {\n    this.timer = window.setInterval(() => {\n      // 每秒更新currentTime状态，触发重新渲染\n      this.currentTime = Date.now();\n    }, 1000);\n  }\n\n  /**\n   * 组件从DOM断开连接时的生命周期回调\n   * 在此处清除定时器，避免内存泄漏\n   */\n  disconnectedCallback() {\n    window.clearInterval(this.timer);\n  }\n\n  /**\n   * 渲染组件\n   * 将时间戳格式化为本地时间字符串\n   * @returns 组件虚拟DOM\n   */\n  render() {\n    // 将时间戳转换为指定时区的时间字符串\n    const time = new Date(this.currentTime).toLocaleTimeString('en-US', {\n      timeZone: this.timezone, // 使用时区属性\n    });\n\n    return (\n      <Host>\n        <div class=\"current-time\">{time}</div>\n      </Host>\n    );\n  }\n}\n"],"mappings":"kDAAA,MAAMA,EAAiB,svF,MCqBVC,EAAW,MALxB,WAAAC,CAAAC,G,UAYWC,KAAAC,YAAsBC,KAAKC,KAsDrC,CAhCC,iBAAAC,GACEJ,KAAKK,MAAQC,OAAOC,aAAY,KAE9BP,KAAKC,YAAcC,KAAKC,KAAK,GAC5B,I,CAOL,oBAAAK,GACEF,OAAOG,cAAcT,KAAKK,M,CAQ5B,MAAAK,GAEE,MAAMC,EAAO,IAAIT,KAAKF,KAAKC,aAAaW,mBAAmB,QAAS,CAClEC,SAAUb,KAAKc,WAGjB,OACEC,EAACC,EAAI,CAAAC,IAAA,4CACHF,EAAK,OAAAE,IAAA,2CAAAC,MAAM,gBAAgBP,G","ignoreList":[]}