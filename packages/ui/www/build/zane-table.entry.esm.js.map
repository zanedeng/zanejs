{"version":3,"file":"zane-table.entry.esm.js","sources":["src/utils/getNextLayer.ts","src/components/table/table.scss?tag=zane-table&encapsulation=shadow","src/components/table/able.tsx"],"sourcesContent":["export type LayerType = '01' | '02' | 'background';\n\n/**\n * 获取下一个层级标识\n * @param layer - 当前层级标识\n * @returns 返回下一个层级标识，遵循 background → 01 → 02 → background 的循环顺序\n *\n * @example\n * getNextLayer(); // '01'\n * getNextLayer('background'); // '01'\n * getNextLayer('01'); // '02'\n * getNextLayer('02'); // 'background'\n */\nexport function getNextLayer(layer?: LayerType): LayerType {\n  const layerCycle: LayerType[] = ['background', '01', '02'];\n\n  // 获取当前索引，未提供时默认为-1(background前一位)\n  const currentIndex = layer ? layerCycle.indexOf(layer) : -1;\n\n  // 计算下一个索引(循环)\n  const nextIndex = (currentIndex + 1) % layerCycle.length;\n\n  return layerCycle[nextIndex];\n}\n","@use \"../../global/styles/commons\";\n\n:host {\n  display: block;\n  height: 100%;\n  min-height: 20em;\n  --zane-table-border-color: #{commons.v(--border-subtle)};\n  --zane-table-border: 1px solid var(--zane-table-border-color);\n  --zane-col-content-padding: #{commons.v(--spacing-04)} #{commons.v(--spacing-05)};\n}\n\n.table {\n  height: 100%;\n\n  @include commons.font-style(body-compact-01);\n  display: flex;\n  flex-direction: column;\n  background: var(--layer);\n\n  .table-scroll-container {\n    position: relative;\n    overflow: auto;\n    height: 100%;\n  }\n\n  .empty-table {\n    height: 80%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n\n    .empty-state {\n      width: 10rem;\n    }\n  }\n\n  .pagination {\n    background: var(--layer);\n    --input-background-color: var(--layer);\n    display: flex;\n    border-top: 1px solid var(--zane-table-border-color);\n\n    .form-control {\n      margin: 0;\n    }\n\n    .select {\n      margin: 0;\n      --input-border-radius: none;\n      --input-border: none;\n      --input-border-inline-start: 1px solid var(--zane-table-border-color);\n      --input-border-inline-end: 1px solid var(--zane-table-border-color);\n    }\n\n    .page-sizes-select {\n      margin-inline-start: commons.v(--spacing-03);\n    }\n\n    .pagination-item-count {\n      margin-inline-start: commons.v(--spacing-04);\n      flex: 1;\n      display: flex;\n      align-items: center;\n    }\n\n    .arrows {\n      --border-radius: 0;\n      --zane-button-height: calc(2.5rem - 2px);\n    }\n  }\n\n  &.horizontal-scrolled {\n    .fixed-columns:after {\n      box-shadow: 10px 0 20px -20px #{v(--border-color)} inset;\n      content: \" \";\n      height: 100%;\n      position: absolute;\n      top: 0;\n      right: -20px;\n      width: 20px;\n    }\n  }\n}\n\n\n.row {\n  display: flex;\n  box-sizing: border-box;\n\n\n  .columns-container {\n    display: flex;\n  }\n\n  .col {\n    margin: 0;\n    color: var(--text-primary);\n\n    .col-content {\n      display: flex;\n      align-items: center;\n      height: 100%;\n\n      .col-text {\n        padding: var(--zane-col-content-padding);\n        flex: 1;\n        overflow: hidden;\n        white-space: nowrap;\n        text-overflow: ellipsis;\n      }\n\n      .col-template {\n        width: 100%;\n      }\n\n      .col-action {\n        --zane-button-border-radius: none;\n\n        &.has-focus {\n          z-index: 12;\n        }\n      }\n\n      .checkbox {\n        padding: 0 var(--spacing-03);\n      }\n    }\n\n    &.center .col-content {\n      justify-content: center;\n    }\n\n    &:last-child {\n      flex: 1;\n    }\n  }\n\n  .fixed-columns {\n    position: sticky;\n    left: 0;\n    z-index: 1;\n  }\n\n  .scrollable-columns {\n    flex: 1;\n    /*z-index: 0;*/\n  }\n\n}\n\n.header {\n  z-index: commons.v(--z-index-table-header);\n  @include commons.font-style(heading-compact-01);\n  position: sticky;\n  top: 0;\n\n\n  .left-panel {\n    position: sticky;\n    top: 0;\n    left: 0;\n  }\n\n  .col {\n    background: var(--layer-accent);\n\n    &.sort {\n      background: var(--layer-selected-hover);\n    }\n  }\n}\n\n.body {\n\n  .row {\n\n    .col {\n      cursor: pointer;\n      background: var(--layer);\n      border-bottom: 1px solid var(--layer-accent);\n\n      &.col-checkbox .col-content {\n        border: 0;\n      }\n\n      .col-content {\n        border: 2px solid transparent;\n        border-bottom: 1px solid transparent;\n\n        .col-text {\n          text-wrap: wrap;\n        }\n      }\n\n      &:focus {\n        outline: none;\n        border-bottom-color: commons.v(--color-primary);\n        z-index: 1;\n\n        .col-content {\n          border-color: commons.v(--color-primary);\n\n\n        }\n      }\n    }\n\n    &:hover {\n      .col {\n        background-color: var(--layer-hover);\n      }\n    }\n  }\n\n  .left-panel {\n    position: sticky;\n    left: 0;\n  }\n\n}\n\n:host-context(.no-wrap-column) {\n  .row .col .col-content .col-text {\n    text-wrap: nowrap;\n  }\n}\n\n\n.empty-data {\n  text-align: center;\n  position: absolute;\n  margin: auto;\n  top: 46px;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  border-radius: 3px;\n  height: max-content;\n  color: commons.v(--color-neutral-600);\n}\n","import {\n  Component,\n  Element,\n  Event,\n  EventEmitter,\n  h,\n  Host,\n  Prop,\n  State,\n} from '@stencil/core';\nimport { throttle } from 'lodash';\n\nimport { getNextLayer } from '../../utils';\n\nconst DEFAULT_CELL_WIDTH = 16; // in rem\nconst SUPPORTED_PAGE_SIZES = [\n  {\n    label: 10,\n    value: 10,\n  },\n  {\n    label: 25,\n    value: 25,\n  },\n  {\n    label: 50,\n    value: 50,\n  },\n  {\n    label: 100,\n    value: 100,\n  },\n];\n\n/**\n * @name Table\n * @description A configurable component for displaying tabular data.\n * @category Data Display\n * @img /assets/img/table.webp\n * @imgDark /assets/img/table-dark.webp\n */\n@Component({\n  shadow: true,\n  styleUrl: 'table.scss',\n  tag: 'zane-table',\n})\nexport class Table {\n  /**\n   * Grid columns configuration.\n   * [\n   * {\n   *   \"name\":\"name\",\n   *   \"label\":\"Name\",\n   *   \"width\":300,\n   *   \"fixed\":true,\n   *   \"template\": function(row, column) { return row[column.name];}\n   *  },\n   * {\n   *   \"name\":\"age\",\n   *   \"label\":\"Age\"\n   * }\n   * ]\n   */\n  @Prop() columns: any[] = [];\n\n  /**\n   * Grid data to display on table\n   * [{\n   *  'id': '5e7118ddce4b3d577956457f',\n   *  'age': 21,\n   *  'name': 'John',\n   *  'company': 'India',\n   *  'email': 'john@example.com',\n   *  'phone': '+1 (839) 560-3581',\n   *  'address': '326 Irving Street, Grimsley, Texas, 4048'\n   *  }]\n   */\n  @Prop() data: any[] = [];\n\n  @Element() elm!: HTMLElement;\n\n  @Prop({ mutable: true }) emptyStateDescription: string =\n    'There are no items to display';\n\n  @Prop({ mutable: true }) emptyStateHeadline: string = 'No items';\n\n  @Prop() keyField: string = 'id';\n\n  @Prop({ reflect: true }) layer?: '01' | '02' | 'background';\n\n  @Prop() managed: boolean = false;\n\n  @State() private hoveredCell: any = {};\n\n  onCellMouseOver = throttle((row: any, column: any) => {\n    this.hoveredCell = { column, row };\n  }, 30);\n\n  @Prop() page: number = 1;\n\n  @Prop() pageSize: number = 10;\n\n  @Prop() paginate: boolean = true;\n\n  @Prop({ mutable: true }) selectedRowKeys: string[] = [];\n\n  @Prop() selectionType: 'checkbox' | undefined;\n\n  @Prop() sortable: boolean = true;\n\n  @Prop({ mutable: true }) sortBy: string;\n\n  @Prop({ mutable: true }) sortOrder: 'asc' | 'desc' = 'asc';\n  @Prop({ mutable: true }) totalItems;\n  /**\n   * Emitted when a table cell is clicked.\n   */\n  @Event({ eventName: 'zane-table--cell-click' }) zaneCellClick: EventEmitter;\n  /**\n   * Emitted when the page changes.\n   */\n  @Event({ eventName: 'zane-table--page' }) zanePage: EventEmitter;\n\n  /**\n   * Emitted when the selection changes.\n   */\n  @Event({ eventName: 'zane-table--selection-change' })\n  zaneSelectChange: EventEmitter;\n\n  /**\n   * Emitted when the table is sorted.\n   */\n  @Event({ eventName: 'zane-table--sort' }) zaneSort: EventEmitter;\n\n  @State() private isHorizontallyScrolled: boolean = false;\n\n  @State() private isSelectAll: boolean = false;\n\n  @State() private isSelectAllIntermediate: boolean = false;\n\n  getTotalItems() {\n    let totalItems = this.totalItems;\n    if (this.paginate && !this.managed) totalItems = this.data.length;\n    return totalItems;\n  }\n\n  onCellClick(row: any, col: any, evt: MouseEvent) {\n    this.zaneCellClick.emit({\n      altKey: evt.altKey,\n      column: col,\n      ctrlKey: evt.ctrlKey,\n      metaKey: evt.metaKey,\n      record: row,\n      shiftKey: evt.shiftKey,\n    });\n  }\n\n  onRowSelectClick = (row) => {\n    let selectedRowKeys = [...this.selectedRowKeys];\n    if (selectedRowKeys.includes(row[this.keyField])) {\n      this.isSelectAll = false;\n      selectedRowKeys = selectedRowKeys.filter(\n        (rowId) => rowId !== row[this.keyField],\n      );\n    } else {\n      selectedRowKeys.push(row[this.keyField]);\n    }\n    this.onSelectChange(selectedRowKeys);\n  };\n\n  onSelectAllClick = () => {\n    let selectedRowKeys = [];\n    this.isSelectAll = !this.isSelectAll;\n    if (this.isSelectAll)\n      selectedRowKeys = this.data\n        .map((row) => row[this.keyField])\n        .slice((this.page - 1) * this.pageSize, this.page * this.pageSize);\n    this.onSelectChange(selectedRowKeys);\n  };\n\n  onSelectChange(selectedRowKeys: any) {\n    this.selectedRowKeys = selectedRowKeys;\n    this.zaneSelectChange.emit({\n      isSelectAll: this.isSelectAll,\n      value: this.selectedRowKeys,\n    });\n  }\n\n  render() {\n    return (\n      <Host>\n        <div\n          class={{\n            'horizontal-scrolled': this.isHorizontallyScrolled,\n            paginate: this.paginate,\n            sortable: this.sortable,\n            table: true,\n          }}\n        >\n          <div\n            class=\"table-scroll-container\"\n            onScroll={(event) => {\n              this.isHorizontallyScrolled = !!(event.target as any).scrollLeft;\n            }}\n          >\n            {this.renderHeader()}\n            {this.data.length > 0 ? this.renderBody() : this.renderEmptyState()}\n          </div>\n          <div class=\"table-footer\">{this.renderPagination()}</div>\n        </div>\n      </Host>\n    );\n  }\n\n  renderBody() {\n    const rows = [];\n\n    let data = [...this.data];\n\n    if (!this.managed) {\n      if (this.sortable && this.sortBy) {\n        data = data.sort((a, b) => {\n          if (a[this.sortBy] < b[this.sortBy])\n            return this.sortOrder === 'asc' ? -1 : 1;\n          if (a[this.sortBy] > b[this.sortBy])\n            return this.sortOrder === 'asc' ? 1 : -1;\n          return 0;\n        });\n      }\n      if (this.paginate) {\n        data = data.slice(\n          (this.page - 1) * this.pageSize,\n          this.page * this.pageSize,\n        );\n      }\n    }\n\n    data.forEach((row) => {\n      const fixedCols = [];\n      const scrollCols = [];\n\n      if (this.selectionType === 'checkbox')\n        fixedCols.push(\n          <div class={{ center: true, col: true, 'col-checkbox': true }}>\n            <div class=\"col-content\">\n              <zane-checkbox\n                class=\"checkbox\"\n                layer={getNextLayer(this.layer)}\n                onZane-checkbox--change={() => this.onRowSelectClick(row)}\n                value={this.selectedRowKeys.includes(row[this.keyField])}\n              />\n            </div>\n          </div>,\n        );\n\n      this.columns.forEach((column) => {\n        let colWidth = DEFAULT_CELL_WIDTH;\n        if (column.width) colWidth = Number.parseInt(column.width);\n        const colEl = (\n          <div\n            class={{\n              col: true,\n              'col-hover':\n                this.hoveredCell.row === row &&\n                this.hoveredCell.column === column,\n            }}\n            onClick={(evt: MouseEvent) => {\n              const selection = window.getSelection();\n              if (selection.type !== 'Range')\n                this.onCellClick(row, column, evt);\n            }}\n            onKeyDown={(event) => {\n              if ((event.ctrlKey || event.metaKey) && event.key === 'c') {\n                const elem: any = event.target;\n                window.navigator.clipboard.writeText(elem.innerText);\n              }\n            }}\n            onMouseOver={() => {\n              this.onCellMouseOver(row, column);\n            }}\n            style={{ width: `${colWidth}rem` }}\n            tabindex=\"1\"\n          >\n            <div class=\"col-content\">\n              {(() => {\n                return column.template ? (\n                  <div\n                    class=\"col-template\"\n                    innerHTML={column.template(row, column)}\n                  ></div>\n                ) : (\n                  <div class=\"col-text\" title={row?.[column.name]}>\n                    {row?.[column.name]}\n                  </div>\n                );\n              })()}\n            </div>\n          </div>\n        );\n\n        column.fixed ? fixedCols.push(colEl) : scrollCols.push(colEl);\n      });\n      rows.push(\n        <div class={{ row: true, 'row-hover': this.hoveredCell.row === row }}>\n          <div class=\"fixed-columns columns-container\">{fixedCols}</div>\n          <div class=\"scrollable-columns columns-container\">{scrollCols}</div>\n        </div>,\n      );\n    });\n\n    return <div class=\"body\">{rows}</div>;\n  }\n\n  renderHeader() {\n    const fixedCols = [];\n    const scrollCols = [];\n\n    if (this.selectionType === 'checkbox') {\n      fixedCols.push(\n        <div class=\"col col-checkbox center\">\n          <div class=\"col-content\">\n            <zane-checkbox\n              class=\"checkbox\"\n              intermediate={this.isSelectAllIntermediate}\n              layer={'01'}\n              onZane-checkbox--change={this.onSelectAllClick}\n              value={this.isSelectAll}\n            />\n          </div>\n        </div>,\n      );\n    }\n    this.columns.forEach((col) => {\n      let colWidth = DEFAULT_CELL_WIDTH;\n      if (col.width) colWidth = Number.parseInt(col.width);\n      const colEl = (\n        <div\n          class={{ col: true, sort: this.sortBy === col.name }}\n          style={{ width: `${colWidth}rem` }}\n        >\n          <div class=\"col-content\">\n            <div class=\"col-text\">{col.label}</div>\n            <div class=\"col-actions\">\n              {(() => {\n                if (!this.sortable) return;\n                let icon = 'arrows--vertical';\n                if (this.sortBy === col.name) {\n                  icon = this.sortOrder === 'asc' ? 'arrow--up' : 'arrow--down';\n                }\n                return (\n                  <zane-button\n                    class=\"col-action\"\n                    color=\"secondary\"\n                    dark-mode-color=\"white\"\n                    icon={icon}\n                    onClick={() => {\n                      if (this.sortBy === col.name) {\n                        if (this.sortOrder === 'asc') this.sortOrder = 'desc';\n                        else this.sortBy = null;\n                      } else {\n                        this.sortBy = col.name;\n                        this.sortOrder = 'asc';\n                      }\n                      this.zaneSort.emit({\n                        sortBy: this.sortBy,\n                        sortOrder: this.sortOrder,\n                      });\n                    }}\n                    variant=\"ghost\"\n                  />\n                );\n              })()}\n            </div>\n          </div>\n        </div>\n      );\n      col.fixed ? fixedCols.push(colEl) : scrollCols.push(colEl);\n    });\n\n    return (\n      <div class=\"header\">\n        <div class=\"row\">\n          <div class=\"fixed-columns columns-container\">{fixedCols}</div>\n          <div class=\"scrollable-columns columns-container\">{scrollCols}</div>\n        </div>\n      </div>\n    );\n  }\n\n  renderPagination() {\n    if (this.paginate)\n      return (\n        <div class=\"pagination\">\n          <div class=\"page-sizes-select\">\n            <zane-select\n              class=\"select\"\n              inline={true}\n              items={SUPPORTED_PAGE_SIZES}\n              label=\"Items per page:\"\n              layer={getNextLayer(this.layer)}\n              onZane-select--change={(e) => {\n                this.pageSize = e.detail.value;\n                this.zanePage.emit({\n                  page: this.page,\n                  pageSize: this.pageSize,\n                });\n              }}\n              placements=\"top-start\"\n              value={this.pageSize}\n            />\n          </div>\n          <div class=\"pagination-item-count\">\n            <zane-text color=\"secondary\" inline>\n              {this.pageSize * (this.page - 1)} -{' '}\n              {Math.min(this.pageSize * this.page, this.getTotalItems())} of{' '}\n              {this.getTotalItems()} items\n            </zane-text>\n          </div>\n          <div class=\"pagination-right\">\n            <div class=\"table-footer-right-content\">\n              <div class=\"table-footer-right-content-pagination\">\n                <zane-button\n                  class=\"arrows\"\n                  color=\"secondary\"\n                  dark-mode-color=\"light\"\n                  disabled={this.page === 1}\n                  icon=\"arrow--left\"\n                  onClick={() => {\n                    this.page = this.page - 1;\n                    this.zanePage.emit({\n                      page: this.page,\n                      pageSize: this.pageSize,\n                    });\n                  }}\n                  variant=\"ghost\"\n                />\n                <zane-button\n                  class=\"arrows\"\n                  color=\"secondary\"\n                  dark-mode-color=\"light\"\n                  disabled={this.pageSize * this.page >= this.getTotalItems()}\n                  icon=\"arrow--right\"\n                  onClick={() => {\n                    this.page = this.page + 1;\n                    this.zanePage.emit({\n                      page: this.page,\n                      pageSize: this.pageSize,\n                    });\n                  }}\n                  variant=\"ghost\"\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n      );\n  }\n\n  private renderEmptyState() {\n    return (\n      <div class=\"empty-table\">\n        <zane-empty-state\n          class=\"empty-state content-center\"\n          description={this.emptyStateDescription}\n          headline={this.emptyStateHeadline}\n        />\n      </div>\n    );\n  }\n}\n"],"names":["throttle"],"mappings":"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"}