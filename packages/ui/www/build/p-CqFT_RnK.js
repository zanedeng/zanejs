function t(){var t,e;try{const n=document.documentElement.dataset.theme;if(n){return n==="dark"}return(e=(t=window.matchMedia)===null||t===void 0?void 0:t.call(window,"(prefers-color-scheme: dark)").matches)!==null&&e!==void 0?e:false}catch(t){console.warn("Dark mode detection failed:",t);return false}}const e=(()=>{const t=new Map;let e=null;const n=()=>{if(!e){e=new MutationObserver((e=>{const n=e.find((t=>t.attributeName==="data-theme"));if(!n)return;const r=n.target;const o=r.dataset.theme;t.forEach(((t,e)=>{if(t.lastTheme!==o){e(o,t.lastTheme);t.lastTheme=o}}))}));e.observe(document.documentElement,{attributeFilter:["data-theme"],attributes:true})}};const r=()=>{if(e&&t.size===0){e.disconnect();e=null}};return e=>{t.set(e,{lastTheme:document.documentElement.dataset.theme});n();return()=>{t.delete(e);r()}}})();export{t as i,e as o};
//# sourceMappingURL=p-CqFT_RnK.js.map