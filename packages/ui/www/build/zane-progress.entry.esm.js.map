{"version":3,"file":"zane-progress.entry.esm.js","sources":["src/components/progress/progress.scss?tag=zane-progress&encapsulation=shadow","src/components/progress/progress.tsx"],"sourcesContent":["@use '../../global/styles/commons';\n\n:host {\n  --progress-height: 0.5rem;\n\n  display: block;\n\n  .spinner {\n    line-height: 0;\n  }\n}\n\n@keyframes progress-bar-indeterminate {\n  0% {\n    background-position-x: 25%;\n  }\n\n  80%,\n  100% {\n    background-position-x: -105%;\n  }\n}\n\n.progress {\n  .progress-header {\n    display: flex;\n    align-items: center;\n\n    .progress-label {\n      flex: 1;\n    }\n  }\n\n  .progress-track {\n    position: relative;\n    width: 100%;\n    height: var(--progress-height);\n    margin: var(--spacing-03) 0;\n    background: var(--border-subtle-00);\n\n    .progress-bar {\n      height: 100%;\n      background: var(--border-interactive);\n      transition: width 0.3s ease-in-out;\n    }\n  }\n\n  .progress-helper {\n    @include commons.font-style(helper-text-01);\n  }\n\n  &.indeterminate {\n    .progress-track {\n      .progress-bar {\n        display: none;\n      }\n\n      &::after {\n        position: absolute;\n        inset: 0;\n        content: '';\n        background-image: linear-gradient(\n          90deg,\n          var(--cds-interactive, #0f62fe) 12.5%,\n          transparent 12.5%\n        );\n        background-position-x: 0;\n        background-size: 200% 100%;\n        animation-name: progress-bar-indeterminate;\n        animation-duration: 1.4s;\n        animation-timing-function: linear;\n        animation-iteration-count: infinite;\n      }\n    }\n  }\n\n  &.status-success {\n    .progress-bar {\n      background: var(--support-success);\n    }\n\n    .progress-icon {\n      --icon-color: var(--support-success);\n    }\n  }\n\n  &.status-error {\n    .progress-bar {\n      background: var(--support-error);\n    }\n\n    .progress-icon {\n      --icon-color: var(--support-error);\n    }\n  }\n}\n\n:host([size='sm']) {\n  --progress-height: 0.25rem;\n}\n","import { Component, h, Host, Prop } from '@stencil/core';\n\n/**\n * 动态进度指示器组件 (zane-progress)\n *\n * @component zane-progress\n * @shadow true\n *\n * @description\n * 提供可视化任务进程的进度指示器，支持多种状态显示和尺寸配置。适用于文件上传、数据加载、操作流程等场景。\n *\n * @slot - 无插槽设计（纯视觉组件）\n *\n * @example\n * <!-- 基础用法 -->\n * <zane-progress value={75}></zane-progress>\n *\n * <!-- 带标签和状态 -->\n * <zane-progress\n *   value={50}\n *   label=\"上传进度\"\n *   status=\"active\"\n *   helperText=\"剩余时间：2分钟\"\n * ></zane-progress>\n *\n * <!-- 错误状态 -->\n * <zane-progress\n *   value={30}\n *   status=\"error\"\n *   helperText=\"上传失败，请重试\"\n * ></zane-progress>\n */\n@Component({\n  shadow: true,\n  styleUrl: 'progress.scss',\n  tag: 'zane-progress',\n})\nexport class Progress {\n  /**\n   * 辅助说明文本\n   *\n   * @designNote\n   * - 显示在进度条下方的补充信息\n   * - 可用于展示剩余时间、错误详情等动态内容\n   * - 建议不超过40字符\n   *\n   * @example\n   * \"剩余时间：2分钟\" | \"上传失败：网络断开\"\n   */\n  @Prop() helperText: string;\n\n  /**\n   * 是否隐藏标签区域\n   *\n   * @default false\n   *\n   * @designNote\n   * - 设为 true 时隐藏顶部标签区域（包括标签和状态图标）\n   * - 适用于空间受限场景（如移动端小部件）\n   * - 与 `label` 属性联动：当 hideLabel=true 时 label 自动失效\n   */\n  @Prop() hideLabel: boolean = false;\n\n  /**\n   * 进度标签文本\n   *\n   * @designNote\n   * - 显示在进度条顶部的标题文本\n   * - 建议使用简洁的动词短语（如：\"文件上传\"、\"数据处理\"）\n   * - 国际化支持：可通过 slot 机制实现多语言\n   *\n   * @example\n   * \"安装进度\" | \"资源加载\"\n   */\n  @Prop() label: string;\n\n  /**\n   * 组件尺寸模式\n   *\n   * @default 'md'\n   *\n   * @designNote\n   * 可选值及其应用场景：\n   * | **值** | **尺寸** | **适用场景**            |\n   * |---------|----------|------------------------|\n   * | 'md'    | 中等尺寸 | 标准页面内容区（默认）  |\n   * | 'sm'    | 小型尺寸 | 表格内嵌/工具栏紧凑布局 |\n   *\n   * 尺寸规范：\n   * | **尺寸** | 高度 | 字体大小 | 圆角半径 |\n   * |-----------|------|----------|----------|\n   * | md        | 24px | 14px     | 12px     |\n   * | sm        | 16px | 12px     | 8px      |\n   */\n  @Prop() size: 'md' | 'sm' = 'md';\n\n  /**\n   * 进度状态类型\n   *\n   * @default 'active'\n   *\n   * @designNote\n   * 状态机逻辑：\n   * | **状态值** | **视觉表现**                     | **使用场景**               |\n   * |-------------|----------------------------------|----------------------------|\n   * | 'active'    | 蓝色动态条纹（默认）             | 进行中的任务               |\n   * | 'success'   | 绿色+成功图标（✔️）              | 已完成的任务               |\n   * | 'error'     | 红色+错误图标（❌）              | 失败/中断的任务            |\n   *\n   * 状态交互规则：\n   * 1. 当 value=100 时自动切换为 'success'（优先级高于手动设置）\n   * 2. 'error' 状态必须手动触发（如网络异常）\n   */\n  @Prop() status: 'active' | 'error' | 'success' = 'active';\n\n  /**\n   * 当前进度值\n   *\n   * @default null\n   *\n   * @designNote\n   * - 范围：0-100（百分比值）\n   * - 特殊值 null：显示不定长动画（indeterminate 模式）\n   * - 边界处理：\n   *   - <0 自动修正为0\n   *   - >100 自动修正为100\n   * - 动画效果：进度变化时带300ms缓动过渡\n   */\n  @Prop() value: number = null;\n\n  /**\n   * 获取状态图标渲染内容\n   *\n   * @private\n   * @returns {JSX.Element | null} 图标组件或null\n   *\n   * @designNote\n   * 图标映射规则：\n   * | **状态**   | 图标名称         | 颜色    | 尺寸比例 |\n   * |-------------|------------------|---------|----------|\n   * | 'success'   | checkmark--filled| #52c41a | 0.8em    |\n   * | 'error'     | error--filled    | #ff4d4f | 0.8em    |\n   * | 'active'    | 无图标           | -       | -        |\n   *\n   * 实现说明：\n   * 1. 仅在非 active 状态显示图标\n   * 2. 图标通过 zane-icon 组件实现（需确保图标库已加载）\n   */\n  getRenderIcon() {\n    if (this.status === 'success') {\n      return (\n        <zane-icon\n          class={'progress-icon'}\n          name={'checkmark--filled'}\n        ></zane-icon>\n      );\n    } else if (this.status === 'error') {\n      return (\n        <zane-icon class={'progress-icon'} name={'error--filled'}></zane-icon>\n      );\n    }\n  }\n\n  render() {\n    return (\n      <Host>\n        <div\n          class={{\n            [`size-${this.size}`]: true,\n            [`status-${this.status}`]: true,\n            indeterminate: this.value === null && this.status === 'active',\n            progress: true,\n          }}\n        >\n          {!this.hideLabel && (\n            <div class=\"progress-header\">\n              <label class=\"progress-label\">{this.label}</label>\n              {this.getRenderIcon()}\n            </div>\n          )}\n          <div class=\"progress-track\">\n            <div\n              aria-valuemax=\"100\"\n              aria-valuemin=\"0\"\n              aria-valuenow={this.value}\n              class=\"progress-bar\"\n              role=\"progressbar\"\n              style={{ width: `${this.value}%` }}\n            ></div>\n          </div>\n          <div class=\"progress-helper\">{this.helperText}</div>\n        </div>\n      </Host>\n    );\n  }\n}\n"],"names":[],"mappings":";;AAAA,MAAM,WAAW,GAAG,68IAA68I;;MCqCp9I,QAAQ,GAAA,MAAA;AALrB,IAAA,WAAA,CAAA,OAAA,EAAA;;AAmBE;;;;;;;;;AASG;AACK,QAAA,IAAS,CAAA,SAAA,GAAY,KAAK;AAelC;;;;;;;;;;;;;;;;;AAiBG;AACK,QAAA,IAAI,CAAA,IAAA,GAAgB,IAAI;AAEhC;;;;;;;;;;;;;;;;AAgBG;AACK,QAAA,IAAM,CAAA,MAAA,GAAmC,QAAQ;AAEzD;;;;;;;;;;;;AAYG;AACK,QAAA,IAAK,CAAA,KAAA,GAAW,IAAI;AAmE7B;AAjEC;;;;;;;;;;;;;;;;;AAiBG;IACH,aAAa,GAAA;AACX,QAAA,IAAI,IAAI,CAAC,MAAM,KAAK,SAAS,EAAE;AAC7B,YAAA,QACE,CACE,CAAA,WAAA,EAAA,EAAA,KAAK,EAAE,eAAe,EACtB,IAAI,EAAE,mBAAmB,EACd,CAAA;;AAEV,aAAA,IAAI,IAAI,CAAC,MAAM,KAAK,OAAO,EAAE;AAClC,YAAA,QACE,CAAW,CAAA,WAAA,EAAA,EAAA,KAAK,EAAE,eAAe,EAAE,IAAI,EAAE,eAAe,EAAc,CAAA;;;IAK5E,MAAM,GAAA;QACJ,QACE,EAAC,IAAI,EAAA,EAAA,GAAA,EAAA,0CAAA,EAAA,EACH,CAAA,CAAA,KAAA,EAAA,EAAA,GAAA,EAAA,0CAAA,EACE,KAAK,EAAE;AACL,gBAAA,CAAC,QAAQ,IAAI,CAAC,IAAI,CAAE,CAAA,GAAG,IAAI;AAC3B,gBAAA,CAAC,UAAU,IAAI,CAAC,MAAM,CAAE,CAAA,GAAG,IAAI;gBAC/B,aAAa,EAAE,IAAI,CAAC,KAAK,KAAK,IAAI,IAAI,IAAI,CAAC,MAAM,KAAK,QAAQ;AAC9D,gBAAA,QAAQ,EAAE,IAAI;AACf,aAAA,EAAA,EAEA,CAAC,IAAI,CAAC,SAAS,KACd,CAAK,CAAA,KAAA,EAAA,EAAA,GAAA,EAAA,0CAAA,EAAA,KAAK,EAAC,iBAAiB,EAAA,EAC1B,CAAA,CAAA,OAAA,EAAA,EAAA,GAAA,EAAA,0CAAA,EAAO,KAAK,EAAC,gBAAgB,IAAE,IAAI,CAAC,KAAK,CAAS,EACjD,IAAI,CAAC,aAAa,EAAE,CACjB,CACP,EACD,CAAK,CAAA,KAAA,EAAA,EAAA,GAAA,EAAA,0CAAA,EAAA,KAAK,EAAC,gBAAgB,EAAA,EACzB,CAAA,CAAA,KAAA,EAAA,EAAA,GAAA,EAAA,0CAAA,EAAA,eAAA,EACgB,KAAK,EAAA,eAAA,EACL,GAAG,EAAA,eAAA,EACF,IAAI,CAAC,KAAK,EACzB,KAAK,EAAC,cAAc,EACpB,IAAI,EAAC,aAAa,EAClB,KAAK,EAAE,EAAE,KAAK,EAAE,CAAG,EAAA,IAAI,CAAC,KAAK,CAAG,CAAA,CAAA,EAAE,EAAA,CAC7B,CACH,EACN,CAAK,CAAA,KAAA,EAAA,EAAA,GAAA,EAAA,0CAAA,EAAA,KAAK,EAAC,iBAAiB,EAAE,EAAA,IAAI,CAAC,UAAU,CAAO,CAChD,CACD;;;;;;;"}