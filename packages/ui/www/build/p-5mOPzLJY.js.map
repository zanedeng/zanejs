{"version":3,"file":"p-5mOPzLJY.js","sources":["src/components/popover/popover/popover-controller.tsx"],"sourcesContent":["import {\n  arrow,\n  autoPlacement,\n  computePosition,\n  flip,\n  offset as floatingUIOffset,\n} from '@floating-ui/dom';\nimport { throttle } from 'lodash';\n\nexport default class PopoverController {\n  arrowRef?: HTMLElement;\n  computePosition = (/* context: string */) => {\n    if (!this.triggerRef || !this.contentRef) {\n      console.warn('Popover: triggerRef or contentRef is not found');\n      return;\n    }\n\n    if (!this.open) return;\n    // console.log('Popover: computePositionThrottle', context, this.triggerRef);\n\n    const middleware = [];\n\n    /**\n     * Maintain the order of the middleware.\n     * The `offset` middleware must be the first middleware\n     * The `arrow` middleware must be the last middleware\n     */\n\n    /**\n     * Offset the popover by the arrow's hypotenuse length\n     */\n    let floatingOffset = this.offset;\n    if (this.arrowRef) {\n      const arrowLen = this.arrowRef.offsetWidth;\n      // Get half the arrow box's hypotenuse length\n      floatingOffset += Math.sqrt(2 * arrowLen ** 2) / 2;\n    }\n\n    middleware.push(\n      floatingUIOffset({\n        alignmentAxis: -this.contentPadding,\n        crossAxis: -this.contentPadding,\n        mainAxis: floatingOffset + this.contentPadding,\n      }),\n    );\n\n    /**\n     * Handle content overflow size\n     */\n    /* middleware.push(size({\n      apply({ availableHeight }) {\n        if (availableHeight < 10 * 16) return;\n        menuElm.style.setProperty(\n          '--zane-menu-max-height',\n          `${availableHeight}px`,\n        );\n      },\n      padding: 5,\n    }))*/\n\n    /**\n     * Add the flip and autoPlacement middleware and possible placements\n     */\n    const placements = this.placements ? this.placements.split(',') : [];\n    const placement: any = placements[0];\n\n    if (placements.length === 0) {\n      middleware.push(autoPlacement());\n    } else {\n      const fallbackPlacements: any = placements.splice(1);\n      middleware.push(flip({ fallbackPlacements }));\n    }\n\n    if (this.arrowRef) middleware.push(arrow({ element: this.arrowRef }));\n\n    computePosition(this.triggerRef, this.contentRef, {\n      middleware,\n      placement,\n    }).then(({ middlewareData, placement, strategy, x, y }) => {\n      const [side, leaning] = placement.split('-');\n\n      const style: any = {};\n      style.left = `${x}px`;\n      style.top = `${y}px`;\n      style.position = strategy === 'fixed' ? 'fixed' : 'absolute';\n\n      let topShadowSize = 0;\n      let leftShadowSize = 0;\n\n      if (side === 'top' || side === 'bottom') {\n        if (side === 'top') {\n          topShadowSize = -2;\n        } else if (side === 'bottom') {\n          topShadowSize = 2;\n        }\n        if (leaning === 'start') {\n          leftShadowSize = 2;\n        } else if (leaning === 'end') {\n          leftShadowSize = -2;\n        }\n      } else if (side === 'left' || side === 'right') {\n        if (side === 'left') {\n          leftShadowSize = -2;\n        } else if (side === 'right') {\n          leftShadowSize = 2;\n        }\n        if (leaning === 'start') {\n          topShadowSize = -2;\n        } else if (leaning === 'end') {\n          topShadowSize = 2;\n        }\n      }\n\n      this.contentRef.style.setProperty(\n        '--popover-content-shadow',\n        `drop-shadow(${leftShadowSize}px ${topShadowSize}px 2px rgba(0, 0, 0, 0.2))`,\n      );\n\n      Object.assign(this.contentRef.style, style);\n\n      if (middlewareData.arrow) {\n        const { x, y } = middlewareData.arrow;\n\n        const staticSide = {\n          bottom: 'top',\n          left: 'right',\n          right: 'left',\n          top: 'bottom',\n        }[side];\n\n        Object.assign(this.arrowRef.style, {\n          bottom: '',\n          left: x === null ? '' : `${x}px`,\n          // Ensure the static side gets unset when\n          // flipping to other placements' axes.\n          right: '',\n          [staticSide]: `${-this.arrowRef.offsetWidth / 2}px`,\n          top: y === null ? '' : `${y}px`,\n        });\n      }\n      // if (callBack) callBack();\n    });\n  };\n  computePositionThrottle = throttle(this.computePosition, 80, {\n    leading: true,\n    trailing: true,\n  });\n  contentPadding: number;\n  contentRef: HTMLElement;\n  dismissTimeout: number;\n  hideCallback: () => void;\n  host: HTMLElement;\n  observer: IntersectionObserver;\n  offset: number;\n  open: boolean;\n  openTimeout: number;\n\n  placements?: string;\n  showCallback: () => void;\n\n  trigger: 'click' | 'hover' | 'manual';\n\n  triggerRef: HTMLElement;\n\n  triggers: HTMLElement[];\n\n  constructor(\n    host: HTMLElement,\n    trigger: 'click' | 'hover' | 'manual' = 'hover',\n    open: boolean,\n    contentRef: HTMLElement,\n    offset: number = 0,\n    contentPadding: number = 0,\n    show: () => void,\n    hide: () => void,\n    placements?: string,\n    openTimeout: number = 200,\n    dismissTimeout: number = 300,\n    arrowRef?: HTMLElement,\n  ) {\n    this.host = host;\n    this.open = open;\n    this.trigger = trigger;\n    this.contentRef = contentRef;\n    this.offset = offset;\n    this.arrowRef = arrowRef;\n    this.placements = placements;\n    this.openTimeout = openTimeout;\n    this.dismissTimeout = dismissTimeout;\n    this.triggers = [];\n    this.showCallback = show;\n    this.hideCallback = hide;\n    this.contentPadding = contentPadding;\n    this.observer = new IntersectionObserver(\n      () => this.intersectingCallback(),\n      {\n        threshold: [0, 1],\n      },\n    );\n    this.observer.observe(this.contentRef);\n  }\n\n  destroy() {\n    this.observer.disconnect();\n    this.observer = null;\n  }\n\n  hidePopover = () => {\n    if (this.open) {\n      this.open = false;\n      this.hideCallback();\n    }\n  };\n\n  intersectingCallback() {\n    this.open && this.computePositionThrottle('onTriggerIntersection');\n  }\n\n  mouseleaveHandler = (event: any) => {\n    const eventPath = event.path ?? event.composedPath();\n    const popoverHost = eventPath.find((node) => node === this.host);\n    if (popoverHost) {\n      const mouseLeaveHandler = () => {\n        const hoverElements = document.querySelectorAll(':hover');\n        const index = Array.prototype.indexOf.call(hoverElements, popoverHost);\n        if (index < 0) {\n          this.hidePopover();\n        }\n      };\n      setTimeout(mouseLeaveHandler, this.dismissTimeout);\n    } else {\n      this.hidePopover();\n    }\n  };\n\n  registerTarget(triggerRef: HTMLElement) {\n    if (!triggerRef)\n      throw new Error('The trigger element for the popover is not found.');\n\n    if (this.triggers.includes(triggerRef)) return;\n\n    this.observer.observe(triggerRef);\n\n    if (this.trigger === 'hover') {\n      triggerRef.addEventListener('focus', () => {\n        this.triggerRef = triggerRef;\n        this.showPopover();\n      });\n      triggerRef.addEventListener('blur', () => this.hidePopover());\n      triggerRef.addEventListener('mouseenter', () => {\n        this.triggerRef = triggerRef;\n        this.showPopover();\n      });\n      triggerRef.addEventListener('mouseleave', this.mouseleaveHandler);\n    } else if (this.trigger === 'click') {\n      if (triggerRef.nodeName === 'ZANE-BUTTON') {\n        triggerRef.addEventListener('zane-button--click', () => {\n          this.open ? this.hidePopover() : this.showPopover();\n        });\n      } else {\n        triggerRef.addEventListener('click', () => {\n          this.open ? this.hidePopover() : this.showPopover();\n        });\n      }\n    }\n\n    this.triggers.push(triggerRef);\n  }\n\n  setOpen(open: boolean) {\n    this.open = open;\n  }\n\n  setTriggerRef(triggerRef: HTMLElement) {\n    this.triggerRef = triggerRef;\n  }\n\n  showPopover = () => {\n    if (!this.open) {\n      if (this.trigger === 'hover') {\n        setTimeout(() => {\n          if (this.triggerRef.matches(':hover')) {\n            this.showCallback();\n          }\n        }, this.openTimeout);\n      } else {\n        this.showCallback();\n      }\n    }\n  };\n\n  windowClickHandler = (evt: any) => {\n    if ((this.trigger === 'click' || this.trigger === 'hover') && this.open) {\n      const path = evt.path || evt.composedPath();\n      for (const elm of path) {\n        if (elm === this.host || this.triggers.includes(elm)) return;\n      }\n      this.hidePopover();\n    }\n  };\n}\n"],"names":["offset","floatingUIOffset","throttle"],"mappings":"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"}